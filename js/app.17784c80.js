(function(){"use strict";var e={791:function(e,t,n){var o=n(963),r=n(252),l=n(577);const a=(0,r._)("h1",null,"PixelArt Recolor",-1),i={class:"panel"},s=(0,r._)("h2",null,"Current palette:",-1),u={key:0,class:"palette"},c={key:1,class:"empty"},g={class:"buttons"},p={class:"input"},d={class:"file-label",for:"input"},f={key:0,fill:"currentColor",d:"M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z"},v={key:1,fill:"currentColor",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"},h=(0,r._)("svg",{viewBox:"0 0 24 24"},[(0,r._)("path",{fill:"currentColor",d:"M3.27,1L2,2.27L6.22,6.5L3,9L4.63,10.27L12,16L14.1,14.37L15.53,15.8L12,18.54L4.63,12.81L3,14.07L12,21.07L16.95,17.22L20.73,21L22,19.73L3.27,1M19.36,10.27L21,9L12,2L9.09,4.27L16.96,12.15L19.36,10.27M19.81,15L21,14.07L19.57,12.64L18.38,13.56L19.81,15Z"})],-1),m={class:"panel"},w=(0,r._)("h2",null,"Converted images:",-1),A={key:0,class:"images"},L=["src","onClick"],y={key:1,class:"empty"},C={class:"buttons"},b={class:"output"},H={class:"file-label",for:"output"},k={key:0,fill:"currentColor",d:"M22,16V4A2,2 0 0,0 20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16M11,12L13.03,14.71L16,11L20,16H8M2,6V20A2,2 0 0,0 4,22H18V20H4V6"},_={key:1,fill:"currentColor",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"},D=(0,r._)("svg",{viewBox:"0 0 24 24"},[(0,r._)("path",{fill:"currentColor",d:"M15,16H19V18H15V16M15,8H22V10H15V8M15,12H21V14H15V12M3,18A2,2 0 0,0 5,20H11A2,2 0 0,0 13,18V8H3V18M14,5H11L10,4H6L5,5H2V7H14V5Z"})],-1);function M(e,t,n,o,M,O){return(0,r.wg)(),(0,r.iD)("main",null,[a,(0,r._)("div",i,[s,e.colors.length?((0,r.wg)(),(0,r.iD)("div",u,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.colors,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"color",key:e,style:(0,l.j5)({backgroundColor:e})},null,4)))),128))])):((0,r.wg)(),(0,r.iD)("div",c,"None")),(0,r._)("div",g,[(0,r._)("div",p,[(0,r._)("label",d,[((0,r.wg)(),(0,r.iD)("svg",{viewBox:"0 0 24 24",class:(0,l.C_)({spin:e.inputProgress})},[e.inputProgress?((0,r.wg)(),(0,r.iD)("path",v)):((0,r.wg)(),(0,r.iD)("path",f))],2)),(0,r.Uk)(" "+(0,l.zw)(e.inputProgress?"Extracting...":"Add source"),1)]),(0,r._)("input",{type:"file",id:"input",onChange:t[0]||(t[0]=(...t)=>e.setInput&&e.setInput(...t)),multiple:"",accept:"image/png, image/gif, image/jpeg"},null,32)]),(0,r._)("button",{class:"round-button",onClick:t[1]||(t[1]=t=>{e.colors.length=0,e.savePalette()})},[h,(0,r.Uk)(" Clear ")])])]),(0,r._)("div",m,[w,e.images.length?((0,r.wg)(),(0,r.iD)("div",A,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.images,((t,n)=>((0,r.wg)(),(0,r.iD)("img",{class:"image",key:n,src:t,onClick:n=>e.downloadImage(t)},null,8,L)))),128))])):((0,r.wg)(),(0,r.iD)("div",y,"None")),(0,r._)("div",C,[(0,r._)("div",b,[(0,r._)("label",H,[((0,r.wg)(),(0,r.iD)("svg",{viewBox:"0 0 24 24",class:(0,l.C_)({spin:e.outputProgress})},[e.outputProgress?((0,r.wg)(),(0,r.iD)("path",_)):((0,r.wg)(),(0,r.iD)("path",k))],2)),(0,r.Uk)(" "+(0,l.zw)(e.outputProgress?"Converting...":"Add images"),1)]),(0,r._)("input",{type:"file",id:"output",onChange:t[2]||(t[2]=(...t)=>e.setOutput&&e.setOutput(...t)),multiple:"",accept:"image/png, image/gif, image/jpeg"},null,32)]),(0,r._)("button",{class:"round-button",onClick:t[3]||(t[3]=t=>e.images.length=0)},[D,(0,r.Uk)(" Clear ")])])])])}var O=n(262),V=n(367),x=n(821),I=(0,r.aZ)({name:"App",setup(){const e=(0,O.iH)(null),t=(0,O.iH)([]),o=(0,O.iH)([]),l=(0,O.iH)(!1),a=(0,O.iH)(!1);let i=new Map,s=n(965).from({});const u=e=>{l.value=!0,setTimeout((()=>{Array.prototype.forEach.call(e.target.files,(e=>{const o=new FileReader;o.onload=e=>{const o=new Image;o.src=e.target.result,void 0!==o.onload&&(o.onload=()=>{const e=new OffscreenCanvas(o.width,o.height),r=e.getContext("2d",{willReadFrequently:!0});if(!r)return;r.drawImage(o,0,0);const l=r.getImageData(0,0,e.width,e.height),a=l.data,u=a.length;for(let n=0;n<u;n+=4){const e=a[n],o=a[n+1],r=a[n+2],l=`#${(0,V.Z)(e,o,r)}`;t.value.includes(l)||t.value.push(l)}s=n(965).from(t.value),i=new Map})},o.readAsDataURL(e)})),setTimeout((()=>{l.value=!1,p()}),150)}),150)},c=e=>{a.value=!0,setTimeout((()=>{Array.prototype.forEach.call(e.target.files,(e=>{const t=new FileReader;t.onload=e=>{const t=new Image;t.src=e.target.result,t.onload=()=>{const e=new OffscreenCanvas(t.width,t.height),n=e.getContext("2d",{willReadFrequently:!0});if(!n)return;n.drawImage(t,0,0);const r=n.getImageData(0,0,e.width,e.height),l=r.data,a=l.length;for(let t=0;t<a;t+=4){const e=l[t],n=l[t+1],o=l[t+2],r=`#${(0,V.Z)(e,n,o)}`;let a=i.get(r);a||(console.log(r),a=(0,x.Z)(s(r)),i.set(r,a)),l[t]=a.red,l[t+1]=a.green,l[t+2]=a.blue}n.putImageData(r,0,0),e.convertToBlob().then((e=>{o.value.push(URL.createObjectURL(e))}))}},t.readAsDataURL(e)})),setTimeout((()=>{a.value=!1}),150)}),150)},g=e=>{const t=document.createElement("a");t.href=e,t.download="image.png",t.click()},p=()=>{localStorage.setItem("palette",JSON.stringify(t.value))},d=()=>{const e=localStorage.getItem("palette");e&&(t.value=JSON.parse(e))};return(0,r.bv)((()=>{d(),s=n(965).from(t.value)})),{outputImg:e,colors:t,images:o,inputProgress:l,outputProgress:a,setInput:u,setOutput:c,downloadImage:g,savePalette:p}}}),P=n(744);const j=(0,P.Z)(I,[["render",M]]);var Z=j;(0,o.ri)(Z).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,l){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],l=e[c][2];for(var i=!0,s=0;s<o.length;s++)(!1&l||a>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(i=!1,l<a&&(a=l));if(i){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,r,l]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,l,a=o[0],i=o[1],s=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(s)var c=s(n)}for(t&&t(o);u<a.length;u++)l=a[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},o=self["webpackChunkpixel_art_recolor"]=self["webpackChunkpixel_art_recolor"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(791)}));o=n.O(o)})();
//# sourceMappingURL=app.17784c80.js.map